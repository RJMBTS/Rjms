awk '
  BEGIN { IGNORECASE=1 }
  /^#EXTINF/ {
    line=$0
    name_line=$0
    getline url

    channel=name_line
    sub(/^.*,/, "", channel)

    ## ðŸŒž SUN NETWORK (Sun NXT)
    if (channel ~ /(Sun TV|Sun HD|KTV|Gemini|Udaya|Surya|Sun Music|Gemini Music|Udaya Music|Surya Music|Chutti TV|Kushi TV|Gemini Life|Udaya Movies|Surya Movies)/) {
      gsub(/group-title="[^"]*"/, "", line)
      sub(/^#EXTINF[^,]*/, "& group-title=\"RJM | SunNxt\"", line)
    }

    ## â­ STAR NETWORK
    else if (channel ~ /(Star|Asianet|Vijay|Maa|Suvarna|Pravah|Utsav)/) {
      gsub(/group-title="[^"]*"/, "", line)
      sub(/^#EXTINF[^,]*/, "& group-title=\"RJM | Star\"", line)
    }

    ## ðŸŽ¨ COLORS NETWORK
    else if (channel ~ /Colors/) {
      gsub(/group-title="[^"]*"/, "", line)
      sub(/^#EXTINF[^,]*/, "& group-title=\"RJM | Colors\"", line)
    }

    ## ðŸ§¸ ALL KIDS CHANNELS (Force Group)
    else if (channel ~ /(Disney|Hungama|Super Hungama|XD|UTV|Bindass|Nick|Nickelodeon|Sonic|Pogo|Cartoon Network|CN|Discovery Kids|Sony Yay|Chutti|Kids|Junior)/) {
      gsub(/group-title="[^"]*"/, "", line)
      sub(/^#EXTINF[^,]*/, "& group-title=\"RJM | Kids\"", line)
    }

    print line
    print url
    next
  }
  { print }
' "$tmpdir/clean.m3u" > "$tmpdir/final.m3u"
